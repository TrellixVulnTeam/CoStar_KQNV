-file("test/lib/diameter/src/base/diameter_misc_sup.erl", 1).

-module(diameter_misc_sup).

-behaviour(supervisor).

-export([start_link/0]).

-export([init/1]).

start_link() ->
    SupName = {local,diameter_misc_sup},
    supervisor:start_link(SupName, diameter_misc_sup, []).

init([]) ->
    Flags = {one_for_one,1,5},
    Workers =
        lists:map(fun spec/1,
                  [diameter_sync,
                   diameter_stats,
                   diameter_reg,
                   diameter_peer,
                   diameter_config]),
    {ok,{Flags,Workers}}.

spec(Mod) ->
    {Mod,{Mod,start_link,[]},permanent,1000,worker,[Mod]}.



