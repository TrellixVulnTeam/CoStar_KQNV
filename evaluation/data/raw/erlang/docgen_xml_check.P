-file("test/lib/erl_docgen/src/docgen_xml_check.erl", 1).

-module(docgen_xml_check).

-export([validate/1]).

-deprecated([{validate,1,next_major_release}]).

validate(File0) ->
    File =
        case filename:extension(File0) of
            ".xml" ->
                File0;
            _ ->
                File0 ++ ".xml"
        end,
    case filelib:is_regular(File) of
        true ->
            DtdDir = filename:join(code:priv_dir(erl_docgen), "dtd"),
            case
                catch
                    xmerl_scan:file(File,
                                    [{validation,true},
                                     {fetch_path,[DtdDir]}])
            of
                {'EXIT',Error} ->
                    io:format("~p~n", [Error]),
                    error;
                {_Doc,_Misc} ->
                    ok
            end;
        false ->
            {error,badfile}
    end.



